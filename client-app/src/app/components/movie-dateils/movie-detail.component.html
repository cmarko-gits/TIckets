<div *ngIf="movie$ | async as movie; else loading" class="movie-details-container">
  <div class="movie-header">
    <h1 class="movie-title">{{ movie.title }}</h1>
    <img [src]="movie.poster" alt="{{ movie.title }}" class="movie-poster" />
    <p class="movie-description">{{ movie.description }}</p>
  </div>

  <div class="movie-info">
    <h3>Director: {{ movie.director.name }}</h3>

    <h4>Actors:</h4>
    <ul class="actor-list">
      <li *ngFor="let actor of movie.movieActors">{{ actor.actor.name }}</li>
    </ul>

    <h4>Genres:</h4>
    <ul class="genre-list">
      <li *ngFor="let genre of movie.movieGenres">{{ genre.genre.name }}</li>
    </ul>
  </div>

  <!-- Form for quantity -->
  <form (ngSubmit)="addToCart(movie, quantity)">
    <div class="form-group">
      <label for="quantity">Quantity:</label>
      <input
        id="quantity"
        type="number"
        [(ngModel)]="quantity"
        name="quantity"
        min="1"
        max="10"
        class="form-control"
        required
      />
    </div>

    <button type="submit" class="btn btn-primary">Add to Cart</button>
  </form>

  <!-- Back to Movies button -->
  <div class="back-button-container">
    <button routerLink="/movies" class="back-button">Back to Movies</button>
  </div>
</div>

<ng-template #loading>
  <p class="loading-container">Loading movie details...</p>
</ng-template>
